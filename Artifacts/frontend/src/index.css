@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg-color: #f9fafb;
  --text-color: #111827;
  --app-bg: #f9fafb;
  --nav-bg: #ffffff;
}

.dark {
  color-scheme: dark;
  --bg-color: #0f0f0f;
  --text-color: #e5e5e5;
  --app-bg: #0f0f0f;
  --nav-bg: #1a1a1a;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #f9fafb !important;
  color: #111827 !important;
  transition: background-color 0.2s, color 0.2s;
}

html.dark body,
.dark body {
  background-color: #0f0f0f !important;
  color: #e5e5e5 !important;
}

/* Base dark theme overrides for frequently used utility classes */
html.dark *,
.dark * {
  border-color: #2a2a2a;
}

html.dark [class*="bg-white"],
.dark [class*="bg-white"] {
  background-color: #1a1a1a !important;
}

html.dark [class*="bg-gray-50"],
.dark [class*="bg-gray-50"] {
  background-color: #151515 !important;
}

html.dark [class*="bg-gray-100"],
.dark [class*="bg-gray-100"] {
  background-color: #161616 !important;
}

html.dark [class*="bg-gray-200"],
.dark [class*="bg-gray-200"] {
  background-color: #1a1a1a !important;
}

html.dark [class*="bg-blue-50"],
.dark [class*="bg-blue-50"] {
  background-color: rgba(37, 99, 235, 0.15) !important;
}

html.dark [class*="bg-purple-50"],
.dark [class*="bg-purple-50"] {
  background-color: rgba(109, 40, 217, 0.18) !important;
}

html.dark [class*="bg-red-50"],
.dark [class*="bg-red-50"] {
  background-color: rgba(220, 38, 38, 0.18) !important;
}

html.dark [class*="bg-yellow-50"],
.dark [class*="bg-yellow-50"] {
  background-color: rgba(234, 179, 8, 0.18) !important;
}

html.dark [class*="bg-green-50"],
.dark [class*="bg-green-50"] {
  background-color: rgba(16, 185, 129, 0.18) !important;
}

html.dark [class*="bg-orange-50"],
.dark [class*="bg-orange-50"] {
  background-color: rgba(234, 88, 12, 0.18) !important;
}

html.dark [class*="text-gray-600"],
.dark [class*="text-gray-600"] {
  color: #b0b0b0 !important;
}

html.dark [class*="text-gray-500"],
.dark [class*="text-gray-500"] {
  color: #a3a3a3 !important;
}

html.dark [class*="text-gray-400"],
.dark [class*="text-gray-400"] {
  color: #9b9b9b !important;
}

/* Leaflet CSS fixes */
.leaflet-container {
  height: 100%;
  width: 100%;
  background-color: #f5f5f5;
}

.dark .leaflet-container {
  background-color: #1a1a1a;
}

/* Leaflet popup dark theme */
.dark .leaflet-popup-content-wrapper {
  background-color: #1f1f1f;
  color: #e5e5e5;
}

.dark .leaflet-popup-tip {
  background-color: #1f1f1f;
}

/* Dark Theme Print Styles */
@media print {
  /* Ensure dark theme is preserved when printing */
  html.dark,
  .dark {
    color-scheme: dark;
    background-color: #0f0f0f !important;
    color: #e5e5e5 !important;
  }

  html.dark body,
  .dark body {
    background-color: #0f0f0f !important;
    color: #e5e5e5 !important;
  }

  /* Dark theme print colors */
  html.dark *,
  .dark * {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  /* Ensure text is readable on dark background */
  html.dark h1,
  html.dark h2,
  html.dark h3,
  html.dark h4,
  html.dark h5,
  html.dark h6,
  .dark h1,
  .dark h2,
  .dark h3,
  .dark h4,
  .dark h5,
  .dark h6 {
    color: #e5e5e5 !important;
  }

  html.dark p,
  html.dark span,
  html.dark div,
  html.dark li,
  html.dark td,
  html.dark th,
  .dark p,
  .dark span,
  .dark div,
  .dark li,
  .dark td,
  .dark th {
    color: #e5e5e5 !important;
  }

  /* Dark theme backgrounds for cards and containers */
  html.dark [class*="bg-"],
  html.dark [class*="bg-white"],
  html.dark [class*="bg-gray"],
  .dark [class*="bg-"],
  .dark [class*="bg-white"],
  .dark [class*="bg-gray"] {
    background-color: #1a1a1a !important;
    color: #e5e5e5 !important;
  }

  /* Dark theme borders */
  html.dark [class*="border"],
  .dark [class*="border"] {
    border-color: #2a2a2a !important;
  }

  /* Remove backgrounds that don't print well */
  html.dark [class*="shadow"],
  .dark [class*="shadow"] {
    box-shadow: none !important;
  }

  /* Ensure links are visible */
  html.dark a,
  .dark a {
    color: #60a5fa !important;
  }

  /* Dark theme badges and tags */
  html.dark [class*="badge"],
  html.dark [class*="tag"],
  .dark [class*="badge"],
  .dark [class*="tag"] {
    background-color: #1f1f1f !important;
    border-color: #2a2a2a !important;
    color: #e5e5e5 !important;
  }

  /* Dark theme tables */
  html.dark table,
  html.dark thead,
  html.dark tbody,
  html.dark tr,
  html.dark td,
  html.dark th,
  .dark table,
  .dark thead,
  .dark tbody,
  .dark tr,
  .dark td,
  .dark th {
    background-color: #1a1a1a !important;
    color: #e5e5e5 !important;
    border-color: #2a2a2a !important;
  }

  /* Dark theme code blocks */
  html.dark pre,
  html.dark code,
  .dark pre,
  .dark code {
    background-color: #1f1f1f !important;
    color: #e5e5e5 !important;
    border-color: #2a2a2a !important;
  }

  /* Hide non-essential elements */
  nav,
  button:not([class*="print"]),
  [class*="no-print"] {
    display: none !important;
  }
}

